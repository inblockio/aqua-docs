(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,217578,e=>{"use strict";var t=e.i(839694);e.s([],181965),e.i(181965),e.s(["ThemeToggle",()=>t.ThemeToggle],217578)},810848,e=>{"use strict";var t=e.i(843476),n=e.i(271645);function o({reverse:e=!1,laneCount:o=5,invertSpeed:l=!1,fadeAboveSelector:i}){let r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let t,n=r.current;if(!n)return;let s=n.getContext("2d");if(!s)return;let h=n.parentElement;if(!h)return;n.width=h.offsetWidth,n.height=h.offsetHeight;let f=()=>{n.width=h.offsetWidth,n.height=h.offsetHeight,$(),b()};window.addEventListener("resize",f);let a={genesis:[220,40,40],revision:[239,84,1],signature:[40,180,80],witness:[50,130,220]},d=0,u=["revision","signature","witness"],g=[],c=[],p=0,m=[],x=0;function b(){if(!i)return;let e=document.querySelector(i);if(!e)return;let t=n.getBoundingClientRect();x=e.getBoundingClientRect().bottom-t.top}function y(e,t){if(x>0&&t>=x)return 1;let o=(Math.abs(e-n.width/2)/(n.width/2)-.25)/.35;return o<0&&(o=0),o>1&&(o=1),o}function w(e,t){return e+Math.random()*(t-e)}function M(e,t){return Math.floor(w(e,t+1))}function T(e){return e[M(0,e.length-1)]}function $(){d=n.height/o,m=[];for(let e=0;e<o;e++){let t=o>1?e/(o-1):0,n=l?.5+(1-t)*.5:.5+.5*t;m.push({y:d*(e+.5),occupants:[],drift:n})}}function v(){let t=function(){let t=[];for(let o=0;o<m.length;o++){let l=m[o];if(0===l.occupants.length)t.push(l);else if(l.occupants.length<3){let o=!0;for(let t=0;t<l.occupants.length;t++){let i=function(t){let n=e?1/0:-1/0;for(let o=0;o<t.nodes.length;o++)e?t.nodes[o].x<n&&(n=t.nodes[o].x):t.nodes[o].x>n&&(n=t.nodes[o].x);return n}(l.occupants[t]);if(e){if(i<210){o=!1;break}}else if(i>n.width+40-250){o=!1;break}}o&&t.push(l)}}return 0===t.length?null:T(t)}();if(!t)return;let o=e?-40:n.width+40,l=t.occupants.length%2==0?-(.12*d):.12*d,i=t.y+l,r=.45*d,s=r/3,h=w(24,36),f={nodes:[],edges:[],lane:t,branches:[]},a={x:o,y:i,type:"genesis",lineY:i};f.nodes.push(a),f.branches.push({tip:a,lineY:i});let x=M(2,4),b=e?-1:1;for(let e=0;e<x&&!(f.nodes.length>=10);e++){let e=f.branches.length;for(let t=0;t<e&&!(f.nodes.length>=10);t++){let e=f.branches[t],n=T(u),o={x:e.tip.x+b*h,y:e.lineY,type:n,lineY:e.lineY};f.nodes.push(o),f.edges.push({from:e.tip,to:o}),e.tip=o}if(f.nodes.length<10&&.3>Math.random()&&f.branches.length<4){let e=T(f.branches),t=.5>Math.random()?-1:1,n=e.lineY+t*s;n<i-r&&(n=i-r),n>i+r&&(n=i+r);let o=!1;for(let e=0;e<f.branches.length;e++)if(Math.abs(f.branches[e].lineY-n)<.5*s){o=!0;break}if(!o){let t=T(u),o={x:e.tip.x+b*h,y:n,type:t,lineY:n};f.nodes.push(o),f.edges.push({from:e.tip,to:o}),f.branches.push({tip:o,lineY:n})}}}t.occupants.push(f),g.push(f),function(t){let n=k(t),o=[];for(let e=0;e<g.length-1;e++){let n=Math.abs(g[e].lane.y-t.lane.y);o.push({chain:g[e],dist:n})}o.sort((e,t)=>e.dist-t.dist);for(let l=0;l<o.length;l++){let i=o[l].chain;if(0===i.nodes.length||P(t,i)>=4)continue;let r=1/(1+.3*l),s=k(i);if(e?s<n?r*=3:r*=.15:s>n?r*=3:r*=.15,Math.random()<r){let e=T(t.nodes),n=Y(e,i);c.push({from:e,to:n,birth:p})}}}(f)}function Y(e,t){let n=[],o=0;for(let l=0;l<t.nodes.length;l++){let i=t.nodes[l],r=1/(1+Math.abs(i.y-e.y)/40)*("genesis"===i.type?5:1);n.push(r),o+=r}let l=Math.random()*o,i=0;for(let e=0;e<n.length;e++)if(l<=(i+=n[e]))return t.nodes[e];return t.nodes[t.nodes.length-1]}function k(e){if(0===e.nodes.length)return 0;let t=0;for(let n=0;n<e.nodes.length;n++)t+=e.nodes[n].x;return t/e.nodes.length}function P(e,t){let n=0;for(let o=0;o<c.length;o++){let l=c[o],i=-1!==e.nodes.indexOf(l.from),r=-1!==t.nodes.indexOf(l.to),s=-1!==t.nodes.indexOf(l.from),h=-1!==e.nodes.indexOf(l.to);(i&&r||s&&h)&&n++}return n}function O(){return document.documentElement.classList.contains("dark")}$();let S=Math.min(12,m.length);for(let t=0;t<S;t++){v();let o=g[g.length-1];if(o){let l=(S-t)*(n.width/(S+1));for(let t=0;t<o.nodes.length;t++)e?o.nodes[t].x+=l:o.nodes[t].x-=l}}return!function o(){s.clearRect(0,0,n.width,n.height),b(),++p%50==0&&g.length<20&&v(),p%70==35&&g.length>0&&function(t){if(t.nodes.length>=10||!t.branches||0===t.branches.length)return;let n=T(t.branches),o=10-t.nodes.length,l=Math.random()<(o<=1?1:o<=3?.6:.15)?"witness":T(u),i=e?-1:1,r={x:n.tip.x+i*w(24,36),y:n.lineY,type:l,lineY:n.lineY};if(t.nodes.push(r),t.edges.push({from:n.tip,to:r}),n.tip=r,.85>Math.random()&&g.length>1){let n=k(t),o=null,l=-1/0;for(let i=0;i<g.length;i++){if(g[i]===t||0===g[i].nodes.length||P(t,g[i])>=4)continue;let r=1/(1+Math.abs(g[i].lane.y-t.lane.y)/40),s=k(g[i]),h=r*(e?s<n?3:.15:s>n?3:.15);h>l&&(l=h,o=g[i])}o&&c.push({from:r,to:Y(r,o),birth:p})}}(T(g));for(let t=0;t<g.length;t++){let n=g[t].lane.drift;for(let o=0;o<g[t].nodes.length;o++)e?g[t].nodes[o].x+=n:g[t].nodes[o].x-=n}g=g.filter(t=>{let o;if(e){let e=1/0;for(let n=0;n<t.nodes.length;n++)t.nodes[n].x<e&&(e=t.nodes[n].x);o=e>n.width+80}else{let e=-1/0;for(let n=0;n<t.nodes.length;n++)t.nodes[n].x>e&&(e=t.nodes[n].x);o=e<-80}if(o){let e=t.lane.occupants.indexOf(t);return -1!==e&&t.lane.occupants.splice(e,1),!1}return!0}),c=c.filter(t=>e?t.from.x<n.width+80&&t.to.x<n.width+80:t.from.x>-80&&t.to.x>-80);for(let e=0;e<c.length;e++)!function(e){let t=Math.min(y(e.from.x,e.from.y),y(e.to.x,e.to.y));if(t<.01)return;let n=O(),o=p-(e.birth||0),l=o<30?1-o/30:0;if(l>0){let o=t*l*.8;s.strokeStyle=n?`rgba(255,255,255,${o})`:`rgba(0,0,0,${o})`,s.lineWidth=3,s.setLineDash([]),s.beginPath(),s.moveTo(e.from.x,e.from.y),s.lineTo(e.to.x,e.to.y),s.stroke()}let i=t*(.8+.2*l);s.strokeStyle=n?`rgba(200,210,240,${i})`:`rgba(30,40,90,${i})`,s.lineWidth=1.2+1.3*l,s.setLineDash([4,5]),s.beginPath(),s.moveTo(e.from.x,e.from.y),s.lineTo(e.to.x,e.to.y),s.stroke(),s.setLineDash([])}(c[e]);for(let e=0;e<g.length;e++){let t=g[e];for(let e=0;e<t.edges.length;e++)!function(e,t){let n=Math.min(y(e.x,e.y),y(t.x,t.y));n<.01||(s.strokeStyle=O()?`rgba(200,215,235,${n})`:`rgba(10,40,60,${n})`,s.lineWidth=1.8,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke())}(t.edges[e].from,t.edges[e].to);for(let e=0;e<t.nodes.length;e++)!function(e){let t=y(e.x,e.y);if(t<.01)return;let n=a[e.type];s.fillStyle=`rgba(${n[0]},${n[1]},${n[2]},${t})`,s.beginPath(),s.arc(e.x,e.y,4,0,2*Math.PI),s.fill(),"genesis"===e.type&&t>.1&&(s.fillStyle=`rgba(${n[0]},${n[1]},${n[2]},${.25*t})`,s.beginPath(),s.arc(e.x,e.y,12,0,2*Math.PI),s.fill())}(t.nodes[e])}t=requestAnimationFrame(o)}(),()=>{window.removeEventListener("resize",f),cancelAnimationFrame(t)}},[e,o,l]),(0,t.jsx)("canvas",{ref:r,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}})}e.s(["default",()=>o])}]);