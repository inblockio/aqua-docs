(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,217578,e=>{"use strict";var t=e.i(839694);e.s([],181965),e.i(181965),e.s(["ThemeToggle",()=>t.ThemeToggle],217578)},810848,e=>{"use strict";var t=e.i(843476),n=e.i(271645);function o({reverse:e=!1,laneCount:o=5,invertSpeed:l=!1,fadeAboveSelector:r,topPadding:i=0}){let s=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let t,n=s.current;if(!n)return;let l=n.getContext("2d");if(!l)return;let h=n.parentElement;if(!h)return;n.width=h.offsetWidth,n.height=h.offsetHeight;let f=()=>{n.width=h.offsetWidth,n.height=h.offsetHeight,T(),y()};window.addEventListener("resize",f);let d={genesis:[220,40,40],revision:[239,84,1],signature:[40,180,80],witness:[50,130,220]},a=0,u=["revision","signature","witness"],g=[],c=[],p=0,x=[],m=0;function y(){if(!r)return;let e=document.querySelector(r);if(!e)return;let t=n.getBoundingClientRect();m=e.getBoundingClientRect().bottom-t.top}function b(e,t){if(m>0&&t>=m)return 1;let n=(Math.abs(e-S)/S-.25)/.35;return n<0&&(n=0),n>1&&(n=1),n}function M(e,t){return e+Math.random()*(t-e)}function w(e,t){return Math.floor(M(e,t+1))}function v(e){return e[w(0,e.length-1)]}function T(){a=(n.height-i)/o,x=[];for(let e=0;e<o;e++)x.push({y:i+a*(e+.5),occupants:[],drift:0})}function $(){let t=function(){let t=[];for(let o=0;o<x.length;o++){let l=x[o];if(0===l.occupants.length)t.push(l);else if(l.occupants.length<3){let o=!0;for(let t=0;t<l.occupants.length;t++){let r=function(t){let n=e?1/0:-1/0;for(let o=0;o<t.nodes.length;o++)e?t.nodes[o].x<n&&(n=t.nodes[o].x):t.nodes[o].x>n&&(n=t.nodes[o].x);return n}(l.occupants[t]);if(e){if(r<210){o=!1;break}}else if(r>n.width+40-250){o=!1;break}}o&&t.push(l)}}return 0===t.length?null:v(t)}();if(!t)return;let o=e?-40:n.width+40,l=t.occupants.length%2==0?-(.12*a):.12*a,r=t.y+l,i=.45*a,s=i/3,h=M(24,36),f={nodes:[],edges:[],lane:t,branches:[],drift:.4+.405*Math.random()},d={x:o,y:r,type:"genesis",lineY:r};f.nodes.push(d),f.branches.push({tip:d,lineY:r});let m=w(2,4),y=e?-1:1;for(let e=0;e<m&&!(f.nodes.length>=10);e++){let e=f.branches.length;for(let t=0;t<e&&!(f.nodes.length>=10);t++){let e=f.branches[t],n=v(u),o={x:e.tip.x+y*h,y:e.lineY,type:n,lineY:e.lineY};f.nodes.push(o),f.edges.push({from:e.tip,to:o}),e.tip=o}if(f.nodes.length<10&&.3>Math.random()&&f.branches.length<4){let e=v(f.branches),t=.5>Math.random()?-1:1,n=e.lineY+t*s;n<r-i&&(n=r-i),n>r+i&&(n=r+i);let o=!1;for(let e=0;e<f.branches.length;e++)if(Math.abs(f.branches[e].lineY-n)<.5*s){o=!0;break}if(!o){let t=v(u),o={x:e.tip.x+y*h,y:n,type:t,lineY:n};f.nodes.push(o),f.edges.push({from:e.tip,to:o}),f.branches.push({tip:o,lineY:n})}}}t.occupants.push(f),g.push(f),function(t){let n=k(t),o=[];for(let e=0;e<g.length-1;e++){let n=Math.abs(g[e].lane.y-t.lane.y);o.push({chain:g[e],dist:n})}o.sort((e,t)=>e.dist-t.dist);for(let l=0;l<o.length&&!(P(t)>=4);l++){let r=o[l].chain;if(0===r.nodes.length||P(r)>=4||O(t,r)>=4)continue;let i=Math.exp(-o[l].dist/(1.5*a)),s=k(r);if(e?s<n?i*=3:i*=.15:s>n?i*=3:i*=.15,Math.random()<i){let e=v(t.nodes),n=Y(e,r);c.push({from:e,to:n,birth:p})}}}(f)}function Y(e,t){let n=[],o=0;for(let l=0;l<t.nodes.length;l++){let r=t.nodes[l],i=1/(1+Math.abs(r.y-e.y)/40)*("genesis"===r.type?5:1);n.push(i),o+=i}let l=Math.random()*o,r=0;for(let e=0;e<n.length;e++)if(l<=(r+=n[e]))return t.nodes[e];return t.nodes[t.nodes.length-1]}function k(e){if(0===e.nodes.length)return 0;let t=0;for(let n=0;n<e.nodes.length;n++)t+=e.nodes[n].x;return t/e.nodes.length}function O(e,t){let n=0;for(let o=0;o<c.length;o++){let l=c[o],r=-1!==e.nodes.indexOf(l.from),i=-1!==t.nodes.indexOf(l.to),s=-1!==t.nodes.indexOf(l.from),h=-1!==e.nodes.indexOf(l.to);(r&&i||s&&h)&&n++}return n}function P(e){let t=0;for(let n=0;n<c.length;n++){let o=c[n];(-1!==e.nodes.indexOf(o.from)||-1!==e.nodes.indexOf(o.to))&&t++}return t}let C=!1,S=0;T();let E=Math.min(12,x.length);for(let t=0;t<E;t++){$();let o=g[g.length-1];if(o){let l=(E-t)*(n.width/(E+1));for(let t=0;t<o.nodes.length;t++)e?o.nodes[t].x+=l:o.nodes[t].x-=l}}return!function o(){l.clearRect(0,0,n.width,n.height),C=document.documentElement.classList.contains("dark"),S=n.width/2,p%30==0&&y(),++p%50==0&&g.length<14&&$(),p%70==35&&g.length>0&&function(t){if(t.nodes.length>=10||!t.branches||0===t.branches.length)return;let n=v(t.branches),o=10-t.nodes.length,l=Math.random()<(o<=1?1:o<=3?.6:.15)?"witness":v(u),r=e?-1:1,i={x:n.tip.x+r*M(24,36),y:n.lineY,type:l,lineY:n.lineY};if(t.nodes.push(i),t.edges.push({from:n.tip,to:i}),n.tip=i,.85>Math.random()&&g.length>1&&4>P(t)){let n=k(t),o=null,l=-1/0;for(let r=0;r<g.length;r++){if(g[r]===t||0===g[r].nodes.length||P(g[r])>=4||O(t,g[r])>=4)continue;let i=Math.exp(-Math.abs(g[r].lane.y-t.lane.y)/(1.5*a)),s=k(g[r]),h=i*(e?s<n?3:.15:s>n?3:.15);h>l&&(l=h,o=g[r])}o&&c.push({from:i,to:Y(i,o),birth:p})}}(v(g));for(let t=0;t<g.length;t++){let n=g[t].drift;for(let o=0;o<g[t].nodes.length;o++)e?g[t].nodes[o].x+=n:g[t].nodes[o].x-=n}g=g.filter(t=>{let o;if(e){let e=1/0;for(let n=0;n<t.nodes.length;n++)t.nodes[n].x<e&&(e=t.nodes[n].x);o=e>n.width+80}else{let e=-1/0;for(let n=0;n<t.nodes.length;n++)t.nodes[n].x>e&&(e=t.nodes[n].x);o=e<-80}if(o){let e=t.lane.occupants.indexOf(t);return -1!==e&&t.lane.occupants.splice(e,1),!1}return!0}),c=c.filter(t=>e?t.from.x<n.width+80||t.to.x<n.width+80:t.from.x>-80||t.to.x>-80);for(let e=0;e<c.length;e++)!function(e){let t=Math.min(b(e.from.x,e.from.y),b(e.to.x,e.to.y));if(t<.01)return;let n=p-(e.birth||0),o=n<30?1-n/30:0,r=(e.from.x+e.to.x)/2,i=(e.from.y+e.to.y)/2,s=e.to.x-e.from.x,h=e.to.y-e.from.y,f=Math.sqrt(s*s+h*h),d=.2*f,a=r+h/f*d,u=i-s/f*d;if(o>0){let n=t*o*.6;l.strokeStyle=C?`rgba(255,255,255,${n})`:`rgba(0,0,0,${n})`,l.lineWidth=2.5,l.beginPath(),l.moveTo(e.from.x,e.from.y),l.quadraticCurveTo(a,u,e.to.x,e.to.y),l.stroke()}let g=t*(.5+.3*o);l.strokeStyle=C?`rgba(140,160,220,${g})`:`rgba(60,80,140,${g})`,l.lineWidth=.8+ +o,l.beginPath(),l.moveTo(e.from.x,e.from.y),l.quadraticCurveTo(a,u,e.to.x,e.to.y),l.stroke()}(c[e]);for(let e=0;e<g.length;e++){let t=g[e];for(let e=0;e<t.edges.length;e++)!function(e,t){let n=Math.min(b(e.x,e.y),b(t.x,t.y));n<.01||(l.strokeStyle=C?`rgba(200,215,235,${n})`:`rgba(10,40,60,${n})`,l.lineWidth=1.8,l.beginPath(),l.moveTo(e.x,e.y),l.lineTo(t.x,t.y),l.stroke())}(t.edges[e].from,t.edges[e].to);for(let e=0;e<t.nodes.length;e++)!function(e){let t=b(e.x,e.y);if(t<.01)return;let n=d[e.type];l.fillStyle=`rgba(${n[0]},${n[1]},${n[2]},${t})`,l.beginPath(),l.arc(e.x,e.y,4,0,2*Math.PI),l.fill(),"genesis"===e.type&&t>.1&&(l.fillStyle=`rgba(${n[0]},${n[1]},${n[2]},${.25*t})`,l.beginPath(),l.arc(e.x,e.y,12,0,2*Math.PI),l.fill())}(t.nodes[e])}t=requestAnimationFrame(o)}(),()=>{window.removeEventListener("resize",f),cancelAnimationFrame(t)}},[e,o,l,i,r]),(0,t.jsx)("canvas",{ref:s,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}})}e.s(["default",()=>o])}]);