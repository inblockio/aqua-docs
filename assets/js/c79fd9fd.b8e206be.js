"use strict";(self.webpackChunkaqua_docs_v_2=self.webpackChunkaqua_docs_v_2||[]).push([[3651],{3282:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"cli-tool","title":"AQUA CLI Tool","description":"The AQUA CLI tool (aqua-js-cli) is a command-line interface for interacting with the AQUA protocol. It provides functionality for notarizing, signing, witnessing, and verifying files in the AQUA system.","source":"@site/versioned_docs/version-1.3.2/cli-tool.md","sourceDirName":".","slug":"/cli-tool","permalink":"/docs/v3/cli-tool","draft":false,"unlisted":false,"editUrl":"https://github.com/inblockio/versioned_docs/version-1.3.2/cli-tool.md","tags":[],"version":"1.3.2","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"REST API","permalink":"/docs/v3/RestAPI"},"next":{"title":"Getting Started","permalink":"/docs/v3/sdk/getting-started"}}');var a=i(4848),l=i(8453);const t={sidebar_position:8},r="AQUA CLI Tool",o={},c=[{value:"What is Notarization?",id:"what-is-notarization",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Clone the Repository",id:"clone-the-repository",level:3},{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"1. Notarizing, Signing, and Witnessing",id:"1-notarizing-signing-and-witnessing",level:3},{value:"Basic Notarization",id:"basic-notarization",level:4},{value:"Signing Files",id:"signing-files",level:4},{value:"Witnessing Files",id:"witnessing-files",level:4},{value:"Multiple Chain Witnessing",id:"multiple-chain-witnessing",level:4},{value:"2. Verification",id:"2-verification",level:3},{value:"Basic Verification",id:"basic-verification",level:4},{value:"Verification Options",id:"verification-options",level:4},{value:"3. Managing Revisions",id:"3-managing-revisions",level:3},{value:"Delete Last Revision",id:"delete-last-revision",level:4},{value:"Link AQUA Chains",id:"link-aqua-chains",level:4},{value:"4. Content Management",id:"4-content-management",level:3},{value:"Generate Content Revision",id:"generate-content-revision",level:4},{value:"Generate Scalar Revision",id:"generate-scalar-revision",level:4},{value:"5. Forms Management",id:"5-forms-management",level:3},{value:"Create Genesis Form",id:"create-genesis-form",level:4},{value:"Create Form Revision",id:"create-form-revision",level:4},{value:"Update Forms",id:"update-forms",level:4}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"aqua-cli-tool",children:"AQUA CLI Tool"})}),"\n",(0,a.jsxs)(n.p,{children:["The AQUA CLI tool (",(0,a.jsx)(n.code,{children:"aqua-js-cli"}),") is a command-line interface for interacting with the AQUA protocol. It provides functionality for notarizing, signing, witnessing, and verifying files in the AQUA system."]}),"\n",(0,a.jsx)(n.h2,{id:"what-is-notarization",children:"What is Notarization?"}),"\n",(0,a.jsx)(n.p,{children:"Notarization in AQUA is the process of creating an immutable record of a file or document on the blockchain. When you notarize a file:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A unique hash of the file is generated"}),"\n",(0,a.jsx)(n.li,{children:"The hash is recorded on the blockchain"}),"\n",(0,a.jsx)(n.li,{children:"A proof of existence is created"}),"\n",(0,a.jsx)(n.li,{children:"The file's integrity can be verified at any time"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"This process ensures that the document existed at a specific point in time and hasn't been modified since."}),"\n",(0,a.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,a.jsx)(n.h3,{id:"clone-the-repository",children:"Clone the Repository"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/inblockio/aqua-js-cli.git\ncd aqua-js-cli\n"})}),"\n",(0,a.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Node.js 14.x+ (latest version recommended)"}),"\n",(0,a.jsx)(n.li,{children:"npm (Node Package Manager)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Install dependencies:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:"Build the project:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm run build\n"})}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(n.h3,{id:"1-notarizing-signing-and-witnessing",children:"1. Notarizing, Signing, and Witnessing"}),"\n",(0,a.jsx)(n.h4,{id:"basic-notarization",children:"Basic Notarization"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js <FILE_PATH>\n"})}),"\n",(0,a.jsx)(n.h4,{id:"signing-files",children:"Signing Files"}),"\n",(0,a.jsx)(n.p,{children:"Sign files using different methods (cli, metamask, or did):"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js --sign [cli|metamask|did] <FILE_PATH>\n"})}),"\n",(0,a.jsx)(n.h4,{id:"witnessing-files",children:"Witnessing Files"}),"\n",(0,a.jsx)(n.p,{children:"Witness files using different methods (eth, nostr, or tsa):"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js [--witness eth|--witness nostr|--witness tsa] <FILE_PATH>\n"})}),"\n",(0,a.jsx)(n.h4,{id:"multiple-chain-witnessing",children:"Multiple Chain Witnessing"}),"\n",(0,a.jsx)(n.p,{children:"Witness multiple AQUA chains:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js FILE1,FILE2 --witness eth --vtree --type sepolia\n"})}),"\n",(0,a.jsx)(n.p,{children:"Witness specific revisions:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js FILE1@0x_revision_,FILE2@0x_revision_ --witness eth --type cli --vtree\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-verification",children:"2. Verification"}),"\n",(0,a.jsx)(n.h4,{id:"basic-verification",children:"Basic Verification"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./verify.js <AQUA_CHAIN_FILE_PATH>\n"})}),"\n",(0,a.jsx)(n.h4,{id:"verification-options",children:"Verification Options"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Verbose output:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./verify.js <FILE_PATH>.aqua.json -v\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Skip merkle proof verification (faster):"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./verify.js <FILE_PATH>.aqua.json --ignore-merkle-proof\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-managing-revisions",children:"3. Managing Revisions"}),"\n",(0,a.jsx)(n.h4,{id:"delete-last-revision",children:"Delete Last Revision"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js --remove <FILE_PATH>\n"})}),"\n",(0,a.jsx)(n.h4,{id:"link-aqua-chains",children:"Link AQUA Chains"}),"\n",(0,a.jsx)(n.p,{children:"Link one AQUA chain to another:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js <FILE_PATH> --link <TARGET_FILE_PATH.aqua.json>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"4-content-management",children:"4. Content Management"}),"\n",(0,a.jsx)(n.h4,{id:"generate-content-revision",children:"Generate Content Revision"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js --content <FILE_PATH>\n"})}),"\n",(0,a.jsx)(n.h4,{id:"generate-scalar-revision",children:"Generate Scalar Revision"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js --scalar <FILE_PATH>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"5-forms-management",children:"5. Forms Management"}),"\n",(0,a.jsx)(n.h4,{id:"create-genesis-form",children:"Create Genesis Form"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js example-form.json --form example-form.json\n"})}),"\n",(0,a.jsx)(n.p,{children:"Note: For genesis, the filename must match the form name."}),"\n",(0,a.jsx)(n.h4,{id:"create-form-revision",children:"Create Form Revision"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./notarize.js <FILE_PATH> --form example-form.json\n"})}),"\n",(0,a.jsx)(n.h4,{id:"update-forms",children:"Update Forms"}),"\n",(0,a.jsx)(n.p,{children:"Delete a form entry:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./form_updater.js example-form.json.aqua.json@<revision> --delete <field>\n"})}),"\n",(0,a.jsx)(n.p,{children:"Update/restore a form entry:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./form_updater.js example-form.json.aqua.json --update <form_field> <value>\n"})}),"\n",(0,a.jsx)(n.p,{children:"Form operations include:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"File validation for .aqua.json files"}),"\n",(0,a.jsx)(n.li,{children:"Form key detection (exact and partial matches)"}),"\n",(0,a.jsx)(n.li,{children:"Handling deleted fields"}),"\n",(0,a.jsx)(n.li,{children:"Non-destructive updates preserving original structure"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var s=i(6540);const a={},l=s.createContext(a);function t(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);